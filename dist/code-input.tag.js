document.head.insertAdjacentHTML('beforeend', `<template id="code-input"><style>:host{display:inline-block;font-size:0;overflow:hidden;--box-size:40px;--font-size:30px;border-radius:3px;user-select:none}input{position:absolute;left:-1000px}table{width:100%;border-collapse:collapse}td{background:#333;color:white;font-size:var(--font-size);text-align:center;vertical-align:middle;width:10%}.empty{color:silver}.focus{background:#555}[dash]{color:silver;font-style:normal}</style><table><tr><td on-tap="focusDigit"></td><td on-tap="focusDigit"></td><td on-tap="focusDigit"></td><td dash="">&#x2010;</td><td on-tap="focusDigit"></td><td on-tap="focusDigit"></td><td on-tap="focusDigit"></td></tr></table><input type="number" pattern="[0-9]*"></template>`);window.customElements.define('code-input',class extends HTMLElement{constructor(){super(),this.attachShadow({mode:'open'}).appendChild(document.querySelector('template#code-input').content.cloneNode(true));;}$(a){return this.shadowRoot.querySelector(a)}$$(a){return this.shadowRoot.querySelectorAll(a)}connectedCallback(){this.$('input').addEventListener('keyup',(a)=>this.input(a)),this.$('input').addEventListener('blur',()=>this.blur()),this.reset()}reset(){this.$$('td').forEach((a)=>{a.hasAttribute('dash')||(a.innerHTML='&#9679;',a.classList.add('empty'))})}focus(){this.focusDigit(this.$('td'))}blur(){this.$$('td').forEach((a)=>a.classList.remove('focus'))}focusDigit(a,b){!a||(a.target&&(a=a.target),this.blur(),a.hasAttribute('dash')&&(b=='left'?a=a.previousElementSibling:a=a.nextElementSibling),a.classList.add('focus'),this.$('input').focus())}input(a){var b=this.$('.focus');return b?a.key=='ArrowLeft'?this.focusDigit(b.previousElementSibling,'left'):a.key=='ArrowRight'?this.focusDigit(b.nextElementSibling):a.key=='Backspace'?(b.innerHTML='&#9679;',b.classList.add('empty'),this.focusDigit(b.previousElementSibling,'left')):void(![0,1,2,3,4,5,6,7,8,9].includes(a.key*1)||(b.innerHTML=a.key,b.classList.remove('empty'),this.focusDigit(b.nextElementSibling),this.$$('.empty').length==0&&this.complete())):void 0}get value(){return Array.from(this.$$('td')).map((a)=>a.hasAttribute('dash')?'':a.innerHTML).join('').replace('\u2010','')}complete(){var a=this.value;void 0,this.dispatchEvent(new CustomEvent('complete',{detail:a}))}});